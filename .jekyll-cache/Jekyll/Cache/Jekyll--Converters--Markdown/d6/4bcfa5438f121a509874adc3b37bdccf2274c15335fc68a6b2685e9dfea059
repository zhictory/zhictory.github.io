I"…Z<p><a href="https://github.com/zhictory/node-server">Github</a></p>

<p>ç½‘å‹ <a href="https://segmentfault.com/u/bottle1125">bottle_</a> æä¾›æ­å»ºä¸€ä¸ªç®€å•æœ¬åœ°æœåŠ¡å™¨çš„æ€è·¯ä¸ºä¸‹ï¼š</p>

<blockquote>
  <ul>
    <li>æˆ‘ä»¬éœ€è¦ä¸€ä¸ª HTTP æœåŠ¡å™¨</li>
    <li>å¯¹äºä¸åŒçš„è¯·æ±‚ï¼Œæ ¹æ®è¯·æ±‚çš„ URLï¼Œæˆ‘ä»¬çš„æœåŠ¡å™¨éœ€è¦ç»™äºˆä¸åŒçš„å“åº”ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè·¯ç”±ï¼Œç”¨äºæŠŠè¯·æ±‚å¯¹åº”åˆ°è¯·æ±‚å¤„ç†ç¨‹åºï¼ˆrequest handlerï¼‰</li>
    <li>å½“è¯·æ±‚è¢«æœåŠ¡å™¨æ¥æ”¶å¹¶é€šè¿‡è·¯ç”±ä¼ é€’ä¹‹åï¼Œéœ€è¦å¯ä»¥å¯¹å…¶è¿›è¡Œå¤„ç†ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æœ€ç»ˆçš„è¯·æ±‚å¤„ç†ç¨‹åº</li>
    <li>æˆ‘ä»¬éœ€è¦ä» HTML æ–‡ä»¶é‡Œæå–æ•°æ®ä»¥åŠå±•ç¤ºæœåŠ¡å™¨ä¼ å…¥çš„æ•°æ®ï¼Œå› æ­¤éœ€è¦å°† HTML å’ŒæœåŠ¡å™¨ç»“åˆèµ·æ¥</li>
  </ul>
</blockquote>

<p>é¦–å…ˆéœ€è¦ä¸¤ä¸ªæ–‡ä»¶ index.js å’Œ index.htmlã€‚</p>

<ul>
  <li>
    <p>index.js</p>

    <p>å¼•ç”¨æ¨¡å—</p>

    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">fs</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// ç³»ç»Ÿæ–‡ä»¶åŠç›®å½•è¿›è¡Œè¯»å†™æ“ä½œ</span>
  <span class="kd">const</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">http</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// å°è£…äº†é«˜æ•ˆçš„ HTTP æœåŠ¡å™¨å’Œ HTTP å®¢æˆ·ç«¯</span>
  <span class="kd">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">url</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// URL å¤„ç†</span>
</code></pre></div>    </div>

    <p>è·¯ç”±</p>

    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="cm">/**
  * è·¯ç”±
  * @param {Function} handle è¯·æ±‚å¤„ç†ç¨‹åº
  * @param {String} pathname è·¯å¾„
  * @param {Object} response å“åº”æ•°æ®
  * @param {Object} postData è¯·æ±‚å‚æ•°
  */</span>
  <span class="kd">function</span> <span class="nx">route</span><span class="p">(</span><span class="nx">handle</span><span class="p">,</span> <span class="nx">pathname</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">postData</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">handle</span><span class="p">[</span><span class="nx">pathname</span><span class="p">]</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">function</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">handle</span><span class="p">[</span><span class="nx">pathname</span><span class="p">](</span><span class="nx">response</span><span class="p">,</span> <span class="nx">postData</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">response</span><span class="p">.</span><span class="nx">writeHead</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">text/plain</span><span class="dl">'</span> <span class="p">});</span>
      <span class="nx">response</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="dl">'</span><span class="s1">404 Not Found</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">response</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div>    </div>

    <p>æœåŠ¡å™¨</p>

    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="cm">/**
  * æœåŠ¡å™¨
  * @param {Function} route è·¯ç”±
  * @param {Function} handle è¯·æ±‚å¤„ç†ç¨‹åº
  */</span>
  <span class="kd">function</span> <span class="nx">start</span><span class="p">(</span><span class="nx">route</span><span class="p">,</span> <span class="nx">handle</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">onRequest</span><span class="p">(</span><span class="nx">request</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">pathname</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">).</span><span class="nx">pathname</span><span class="p">;</span>
      <span class="kd">let</span> <span class="nx">postData</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
      <span class="k">switch</span> <span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">method</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">:</span>
          <span class="nx">postData</span> <span class="o">+=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">).</span><span class="nx">query</span><span class="p">;</span>
          <span class="nx">request</span><span class="p">.</span><span class="nx">setEncoding</span><span class="p">(</span><span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span><span class="p">);</span>
          <span class="nx">route</span><span class="p">(</span><span class="nx">handle</span><span class="p">,</span> <span class="nx">pathname</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">postData</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">:</span>
          <span class="nx">request</span><span class="p">.</span><span class="nx">addListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">data</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">postDateChunk</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">postData</span> <span class="o">+=</span> <span class="nx">postDateChunk</span><span class="p">;</span>
          <span class="p">});</span>
          <span class="nx">request</span><span class="p">.</span><span class="nx">addListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">end</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nx">route</span><span class="p">(</span><span class="nx">handle</span><span class="p">,</span> <span class="nx">pathname</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">postData</span><span class="p">);</span>
          <span class="p">});</span>
          <span class="k">break</span><span class="p">;</span>
      <span class="p">};</span>
    <span class="p">}</span>

    <span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">(</span><span class="nx">onRequest</span><span class="p">).</span><span class="nx">listen</span><span class="p">(</span><span class="mi">8080</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Server has started</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">}</span>
</code></pre></div>    </div>

    <p>è¯·æ±‚å¤„ç†ç¨‹åº</p>

    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c1">// è¯·æ±‚å¤„ç†ç¨‹åº</span>
  <span class="kd">const</span> <span class="nx">handle</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// index æ¥å£</span>
    <span class="dl">'</span><span class="s1">/public/index.html</span><span class="dl">'</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">,</span> <span class="nx">postData</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">pathname</span> <span class="o">=</span> <span class="nx">__dirname</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/public/index.html</span><span class="dl">'</span><span class="p">;</span>
      <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="nx">pathname</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">response</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">},</span>
    <span class="c1">// download æ¥å£</span>
    <span class="dl">'</span><span class="s1">/download</span><span class="dl">'</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">,</span> <span class="nx">postData</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">response</span><span class="p">.</span><span class="nx">writeHead</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">text/html</span><span class="dl">'</span> <span class="p">});</span>
      <span class="nx">response</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
        <span class="na">code</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
        <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
          <span class="dl">'</span><span class="s1">time</span><span class="dl">'</span><span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">toLocaleString</span><span class="p">(</span><span class="dl">"</span><span class="s2">en-US</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">}</span>
      <span class="p">}));</span>
      <span class="nx">response</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="c1">// upload æ¥å£</span>
    <span class="dl">'</span><span class="s1">/upload</span><span class="dl">'</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">,</span> <span class="nx">postData</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">response</span><span class="p">.</span><span class="nx">writeHead</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">text/html</span><span class="dl">'</span> <span class="p">});</span>
      <span class="nx">response</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="dl">'</span><span class="s1">You have sent: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">postData</span><span class="p">).</span><span class="nx">value</span><span class="p">);</span>
      <span class="nx">response</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">};</span>
</code></pre></div>    </div>

    <p>å¯åŠ¨æœåŠ¡å™¨</p>

    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c1">// å¯åŠ¨æœåŠ¡å™¨ = è·¯ç”±å¤„ç† + æ¥å£å¤„ç†</span>
  <span class="nx">start</span><span class="p">(</span><span class="nx">route</span><span class="p">,</span> <span class="nx">handle</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>index.html</p>

    <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="cp">&lt;!DOCTYPE html&gt;</span>
  <span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>

  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1.0"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"X-UA-Compatible"</span> <span class="na">content=</span><span class="s">"ie=edge"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Document<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;/head&gt;</span>

  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"input"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">value=</span><span class="s">"submit"</span> <span class="na">name=</span><span class="s">"submit"</span><span class="nt">&gt;</span>submit<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;p&gt;&lt;/p&gt;</span>
    <span class="c">&lt;!-- submit demo --&gt;</span>
    <span class="nt">&lt;script&gt;</span>
      <span class="kd">const</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">button</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">input</span><span class="dl">'</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
        <span class="nx">ajax</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
      <span class="p">},</span> <span class="kc">true</span><span class="p">);</span>

      <span class="kd">function</span> <span class="nx">ajax</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">xmlhttp</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">XMLHttpRequest</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">xmlhttp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">xmlhttp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ActiveXObject</span><span class="p">(</span><span class="dl">'</span><span class="s1">Microsoft.XMLHTTP</span><span class="dl">'</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">responseText</span><span class="p">;</span>
          <span class="p">}</span>
        <span class="p">}</span>

        <span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">/upload</span><span class="dl">'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
        <span class="nx">xmlhttp</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
          <span class="na">value</span><span class="p">:</span> <span class="nx">value</span>
        <span class="p">}));</span>

        <span class="c1">// xmlhttp.open('GET', '/upload?value='+value, true);</span>
        <span class="c1">// xmlhttp.send();</span>
      <span class="p">}</span>
    <span class="nt">&lt;/script&gt;</span>
  <span class="nt">&lt;/body&gt;</span>

  <span class="nt">&lt;/html&gt;</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>æ³¨æ„äº‹é¡¹ï¼š</p>

<ul>
  <li>
    <p>å…³äº GET å’Œ POST æ–¹å¼çš„è¯·æ±‚å‚æ•°</p>

    <p>GET çš„è¯·æ±‚å‚æ•°æ˜¯ä»¥æŸ¥è¯¢å‚æ•°å½¢å¼æ”¾åœ¨ URL åé¢çš„ï¼ŒæœåŠ¡å™¨å¯ä»¥ä» URL ä¸Šè·å–å‚æ•°ï¼š<code class="language-plaintext highlighter-rouge">url.parse(request.url).query</code>ã€‚</p>

    <p>POST çš„è¯·æ±‚å‚æ•°åˆ™éœ€è¦ä½œä¸º <code class="language-plaintext highlighter-rouge">xhr.send()</code> çš„å‚æ•°å¹¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ¥ä¼ é€’ï¼Œæœ¬æ–‡ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">JSON.stringify()</code> æ¥è½¬æ¢ï¼Œå†åœ¨æœåŠ¡å™¨ç«¯ç”¨ <code class="language-plaintext highlighter-rouge">JSON.parse()</code> è½¬æ¢ã€‚</p>

    <p>æœåŠ¡å™¨ç«¯åœ¨å“åº”ä¸¤ç§è¯·æ±‚æ–¹å¼æ—¶ï¼Œå“åº”æ•°æ®æ ¼å¼å‚è€ƒ<a href="https://nodejs.org/docs/latest-v6.x/api/http.html#http_response_write_chunk_encoding_callback">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>
  </li>
  <li>
    <p>å…³äºæœåŠ¡å™¨å“åº”å¤´ä¸­çš„ Content-Type</p>

    <p>ä¸€èˆ¬ç½‘ç«™çš„åšæ³•æ˜¯ï¼šå½“è¿”å› HTML é¡µé¢æ—¶ä¸º text/htmlï¼Œå½“ä½¿ç”¨ JSONP æ—¶ä¸º text/javascriptï¼Œå½“ä½¿ç”¨ CORS æ—¶ä¸º application/jsonã€‚</p>
  </li>
  <li>
    <p>å…³äºè·¨åŸŸ</p>

    <p>å¦‚æœå¸Œæœ›æŸä¸ªæ¥å£å¯ä»¥è·¨åŸŸï¼Œéœ€è¦è®¾ç½®å“åº”å¤´çš„ <code class="language-plaintext highlighter-rouge">Access-Control-Allow-Origin</code> ä¸º <code class="language-plaintext highlighter-rouge">*</code>ï¼Œæ¯”å¦‚å…è®¸ download æ¥å£è·¨åŸŸï¼Œä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼š</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  response.writeHead<span class="o">(</span>200, <span class="o">{</span> <span class="s1">'Content-Type'</span>: <span class="s1">'text/html'</span>, <span class="s1">'Access-Control-Allow-Origin'</span>: <span class="s1">'*'</span> <span class="o">})</span><span class="p">;</span>
</code></pre></div>    </div>

    <p>è°ƒè¯•çš„è¯ï¼Œåªè¦å¯åŠ¨ä¸¤ä¸ªä¸åŒç«¯å£çš„ index.js å³å¯ï¼Œä»£ç ä»“åº“é‡Œ server.1.js å’Œ server.2.js å°±è¡¨ç¤ºä¸¤ä¸ªä¸åŒçš„ index.jsã€‚</p>
  </li>
  <li>
    <p>å…³äº Node.js çƒ­éƒ¨ç½²</p>

    <p>Node.js å¯åŠ¨æœåŠ¡å™¨æ—¶æ˜¯å°†è„šæœ¬æ”¾å…¥å†…å­˜ï¼Œä»¥åéƒ½ä¼šç›´æ¥è®¿é—®å†…å­˜ï¼Œé¿å…é‡å¤è½½å…¥ã€‚è¿™ç§è®¾è®¡è™½ç„¶æœ‰åˆ©äºæé«˜æ€§èƒ½ï¼Œå´ä¸åˆ©äºå¼€å‘è°ƒè¯•ï¼Œå¯¼è‡´ä¿®æ”¹ Node.js ä»£ç åéœ€è¦æ‰‹åŠ¨ç»ˆæ­¢è¿›ç¨‹å¹¶é‡å¯æ‰ä¼šç”Ÿæ•ˆã€‚</p>

    <p>ç½‘å‹ <a href="http://www.cnblogs.com/benpaodexiaopangzi/">ä¼šå¥”è·‘çš„èƒ–å­</a> æå‡ºæ–¹æ¡ˆï¼š</p>
    <blockquote>
      <p>ä½ åªéœ€è¦åœ¨ä¿®æ”¹æ–‡ä»¶åä¿å­˜ï¼Œå®ƒå°±èƒ½è‡ªåŠ¨æ›¿ä½ å‘å¸ƒï¼Œè¿™å°±æ˜¯æ‰€è°“çš„çƒ­éƒ¨ç½²ã€‚</p>
    </blockquote>

    <p>supervisor å°±æ˜¯ä¸€ä¸ª Node.js çš„å¼€æºçƒ­éƒ¨ç½²å·¥å…·ï¼š</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  npm i supervisor <span class="nt">-g</span>
  supervisor server.js
</code></pre></div>    </div>

    <p>è¯¥ç½‘å‹ä¸­è¿˜æåˆ°å¦ä¸€ä¸ªå¼€æºçƒ­éƒ¨ç½²å·¥å…· hotcodeï¼Œä½†ç»æµ‹è¯• hotcode è‹¥ä½¿ç”¨ express 4.x åˆ™ä¼šæŠ¥é”™ï¼Œå› ä¸º hotcode ä½¿ç”¨çš„ express.createServer() å·²ç»è¢«åºŸå¼ƒã€‚</p>
  </li>
</ul>

<p>å‚è€ƒï¼š</p>
<blockquote>
  <p><a href="https://segmentfault.com/a/1190000007617042">å­¦ä¹ ç¬”è®°ï¼šç”¨Nodejsæ­å»ºä¸€ä¸ªç®€å•çš„æœ¬åœ°æœåŠ¡å™¨</a><br />
<a href="https://www.cnblogs.com/benpaodexiaopangzi/p/5856642.html">NodeJSâ€çƒ­éƒ¨ç½²â€œä»£ç ï¼Œå®ç°åŠ¨æ€è°ƒè¯•(hotnodeï¼Œå¯ä»¥å®ç°çƒ­æ›´æ–°)</a></p>
</blockquote>
:ET