I"·<p>enctype æ˜¯ HTML è¡¨å•çš„å±æ€§ï¼ŒContent-Type æ˜¯ HTTP Header é‡Œçš„å±æ€§ã€‚</p>

<p>enctype å†³å®šäº†è¦æäº¤çš„å†…å®¹çš„ç¼–ç ç®—æ³•ï¼ŒContent-Type è¡¨ç¤ºè¦ä¼ è¾“çš„å†…å®¹çš„ç±»å‹ã€‚</p>

<p>å®ƒä»¬çš„å€¼å¦‚ä¸‹ï¼š</p>

<ol>
  <li>
    <p><strong>enctypeï¼š</strong><br />
x-www-form-urlencodedï¼šç¼–ç æ‰€æœ‰å­—ç¬¦ï¼ˆå½“ä½¿ç”¨éæ³•å€¼æˆ–ç©ºå€¼æ—¶é»˜è®¤è¿™ä¸ªå€¼ï¼‰<br />
multipart/form-dataï¼šä¸ç¼–ç å­—ç¬¦ï¼ˆä¸Šä¼ æ–‡ä»¶æ—¶ä½¿ç”¨ï¼‰<br />
text/plainï¼šç¼–ç éƒ¨åˆ†å­—ç¬¦ï¼ˆåªç¼–ç ç©ºæ ¼ï¼Œä¸ç¼–ç ç‰¹æ®Šå­—ç¬¦ï¼‰</p>
  </li>
  <li>
    <p><strong>Content-Typeï¼š</strong><br />
x-www-form-urlencoded<br />
multipart/form-data<br />
application/json<br />
â€¦</p>
  </li>
</ol>

<p>enctype å†³å®šäº† Content-Typeï¼Œä½†ç”¨å¼‚æ­¥æäº¤æ—¶ï¼ŒContent-Type å¯èƒ½ä¼šæœ‰æ›´å¤šæƒ…å†µï¼Œå¦‚ application/jsonã€‚</p>

<p>ä¸‹é¢å¼•ç”¨ä¸€ä¸ªå¼ å±•ç¤ºç”¨ enctype ç¼–ç åçš„è¯·æ±‚å¤´ï¼š</p>

<p><img src="https://johnnycode.com/assets/posts/2013-10-30-form-content-type-differences-enctype/firebug-net-tab-post-data.png" alt="" /></p>

<p>å†ä¸¾ä¸ªä¾‹å­è¯´æ˜å®ƒä»¬çš„å½±å“ï¼š</p>

<p>ä½¿ç”¨ axios è¯·æ±‚ Content-Type ä¸º â€œapplication/jsonâ€ æ—¶ï¼ŒPHP æ–¹æ³• $_POST æ¥å—ä¸åˆ° POST æ•°æ®ã€‚</p>

<p>ä¸€èˆ¬ ajax é»˜è®¤ä½¿ç”¨ x-www-form-urlencodedï¼Œ$_POST ä¹Ÿé»˜è®¤æ¥å—è¿™ç§ç¼–ç åçš„æ•°æ®ï¼Œä½† axios é»˜è®¤ä½¿ç”¨ application/jsonã€‚</p>

<p>è¿™é‡Œæœ‰ä¸¤ä¸ªæ–¹æ³•å¯ä»¥è®© $_POST æ¥å—å¾—åˆ° POST æ•°æ®ï¼š</p>

<ol>
  <li>
    <p>ä¿®æ”¹ $_POST</p>

    <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>

<span class="nb">header</span><span class="p">(</span><span class="s2">"Access-Control-Allow-Origin:*"</span><span class="p">);</span>
<span class="nb">header</span><span class="p">(</span><span class="s1">'Access-Control-Allow-Headers:x-requested-with,content-type'</span><span class="p">);</span>

<span class="nv">$rws_post</span> <span class="o">=</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'HTTP_RAW_POST_DATA'</span><span class="p">];</span>
<span class="nv">$mypost</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$rws_post</span><span class="p">);</span>
<span class="nv">$newsid</span> <span class="o">=</span> <span class="p">(</span><span class="n">string</span><span class="p">)</span><span class="nv">$mypost</span><span class="o">-&gt;</span><span class="n">newsid</span><span class="p">;</span>

<span class="k">exit</span><span class="p">(</span><span class="nv">$newsid</span><span class="p">);</span>
<span class="o">&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>axios å‘é€è¯·æ±‚å‰ä¿®æ”¹ Content-Type</p>

    <p>ç”¨æ’ä»¶ qs å°†å‚æ•°æ ¼å¼ä¿®æ”¹æˆ x-www-form-urlencoded ç±»å‹ï¼Œè¯·æ±‚å¤´å°±ä¼šå°† Content-Type æ”¹ä¸º x-www-form-urlencodedï¼Œé‚£ä¹ˆ $_POST ä¸ç”¨åšä¿®æ”¹ï¼š</p>

    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">qs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">qs</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">"</span><span class="s2">/foo</span><span class="dl">"</span><span class="p">,</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">bar</span><span class="p">:</span> <span class="mi">123</span> <span class="p">}));</span>
</code></pre></div>    </div>
  </li>
</ol>

<p>å‚è€ƒï¼š</p>

<blockquote>
  <p><a href="http://www.cnblogs.com/CyLee/p/7644380.html">PHP content-typeä¸ºâ€application/jsonâ€çš„postè¿‡æ¥çš„æ•°æ®$_POSTæ¥å—ä¸åˆ°çš„é—®é¢˜</a><br />
<a href="https://www.w3.org/TR/html5/sec-forms.html#attr-valuedef-form-enctype-application-x-www-form-urlencoded">The enctype and formenctype content attributes</a><br />
<a href="https://johnnycode.com/2013/10/30/the-differences-between-html-form-content-types-enctype/">The Differences Between HTML Form Content Types (enctype)</a></p>
</blockquote>
:ET